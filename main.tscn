[gd_scene load_steps=9 format=3 uid="uid://drffjlsqb5lod"]

[ext_resource type="Script" path="res://main.gd" id="1_djg2a"]
[ext_resource type="PackedScene" uid="uid://c4mig7oq5mr0" path="res://ui/spawn_position.tscn" id="2_k22kc"]
[ext_resource type="PackedScene" uid="uid://c7tfhapve43h7" path="res://ui/chat_box.tscn" id="3_egfme"]
[ext_resource type="PackedScene" uid="uid://be3w7pa3jkbji" path="res://ui/lobby.tscn" id="4_tswso"]
[ext_resource type="PackedScene" uid="uid://cgddotqh6hprh" path="res://ui/scoreboard.tscn" id="5_qiwcw"]
[ext_resource type="PackedScene" uid="uid://xsr3n38kc6wp" path="res://ui/menu.tscn" id="6_xmp4e"]
[ext_resource type="PackedScene" uid="uid://bh6fv7mm72hyf" path="res://ui/send_message.tscn" id="7_w36v2"]
[ext_resource type="PackedScene" uid="uid://nsbux4s4243s" path="res://ui/quit_confirmation.tscn" id="8_k6kgi"]

[node name="Main" type="Node"]
script = ExtResource("1_djg2a")

[node name="MapInstance" type="Node" parent="."]
unique_name_in_owner = true

[node name="SpawnPosition" parent="." instance=ExtResource("2_k22kc")]
unique_name_in_owner = true

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_lock_ = true

[node name="ChatBox" parent="Control" instance=ExtResource("3_egfme")]
unique_name_in_owner = true
layout_mode = 0
anchors_preset = 0

[node name="Lobby" parent="Control" instance=ExtResource("4_tswso")]
unique_name_in_owner = true
layout_mode = 0
anchors_preset = 0

[node name="Scoreboard" parent="Control" instance=ExtResource("5_qiwcw")]
unique_name_in_owner = true
layout_mode = 0
anchors_preset = 0

[node name="Menu" parent="Control" instance=ExtResource("6_xmp4e")]
unique_name_in_owner = true
layout_mode = 0
anchors_preset = 0

[node name="SendMessage" parent="Control" instance=ExtResource("7_w36v2")]
unique_name_in_owner = true
layout_mode = 0
anchors_preset = 0

[node name="QuitConfirmation" parent="Control" instance=ExtResource("8_k6kgi")]
layout_mode = 0
anchors_preset = 0

[node name="MultiplayerSpawnerPlayerSpawn" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://player.tscn")
spawn_path = NodePath("../Network/Player")

[node name="MultiplayerSpawnerRed" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://player.tscn")
spawn_path = NodePath("../SpawnPosition/Red")

[node name="ChatBoxDisapearsTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 5.0
one_shot = true

[node name="Network" type="Node" parent="."]

[node name="Player" type="Node" parent="Network"]

[connection signal="tree_exiting" from="." to="." method="_on_tree_exiting"]
[connection signal="despawned" from="MultiplayerSpawnerPlayerSpawn" to="." method="_on_multiplayer_spawner_blue_despawned"]
[connection signal="spawned" from="MultiplayerSpawnerPlayerSpawn" to="." method="_on_multiplayer_spawner_blue_spawned"]
[connection signal="timeout" from="ChatBoxDisapearsTimer" to="." method="_on_chat_box_disapears_timer_timeout"]
